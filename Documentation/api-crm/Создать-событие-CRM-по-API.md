# Создать событие CRM по API

С помощью метода можно создать в Saby событие «CRM» (тип 3) и «Ответ на онлайн-форму» (тип 4).

## Параметры запроса

Метод запроса: CRMEvent.AddEvent

Адрес запроса: https://online.sbis.ru/service/

| Параметр | Тип | Описание |
|----------|-----|----------|
| EventType* | число | тип события. Возможные значения: «3» — CRM и «4» — ответ на онлайн-форму |
| LeadID | число | идентификатор сделки, откуда пришла онлайн-форма |
| RespID | число | идентификатор исполнителя, который отправил онлайн-форму |
| KindOfContact | число | вид контакта. Возможные значения: «0» — итоговое, «1» — запланированное |
| ContactType | число | тип контакта. Возможные значения: «0» — звонок, «1» — письмо, «2» — встреча |
| CurrentPhaseId | число | идентификатор этапа темы отношений |
| PhaseDirectionId | число | идентификатор перехода |
| Comment | текст | комментарий к событию |
| DateTime | ДатаВремя «ГГГГ.ММ.ДД ЧЧ:ММ:СС» | дата и время ответа на онлайн-форму |

## Результат

Возвращает идентификатор созданного события в виде целого числа.

## Пример

```javascript
requirejs(['Types/source'], function(blo) {
      new blo.SbisService({
        endpoint: {
          contract: 'CRMEvent',
          address: '/service/?x_version=20.7202-3'
        }
      }).call('AddEvent', {
        "EventData": {
          "d": [3, 21, 168, 1, 0, "Комментарийдлясобытия", null],
          "s": [{
            "n": "EventType",
            "t": "Число целое"
          }, {
            "n": "LeadID",
            "t": "Число целое"
          }, {
            "n": "RespID",
            "t": "Число целое"
          }, {
            "n": "KindOfContact",
            "t": "Число целое"
          }, {
            "n": "ContactType",
            "t": "Число целое"
          }, {
            "n": "Comment",
            "t": "Строка"
          }, {
            "n": "DateTime",
            "t": "Дата и время"
          }],
          "_type": "record",
          "f": 0
        }
      }); //.addBoth(console.info);});